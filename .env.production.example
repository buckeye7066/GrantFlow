# Production Environment Configuration
# Location: /opt/grantflow/.env (on production server)
# 
# SECURITY WARNING: Never commit this file with actual secrets!
# This is a template - copy and fill with real values on the server.

# ============================================================================
# Backend Configuration
# ============================================================================

# Admin Authentication Token
# CRITICAL: Generate a strong random token for production
# Generate with: openssl rand -hex 32
ANYA_ADMIN_TOKEN=<generate-secure-random-token-here>

# Backend Server Port
# Should be localhost only, proxied through Nginx
PORT=4000

# CORS Configuration
# Comma-separated list of allowed origins
# Must match your production domain(s)
CORS_ORIGIN=https://app.axiombiolabs.org,https://www.axiombiolabs.org

# Node Environment
NODE_ENV=production

# ============================================================================
# OpenAI API Configuration
# ============================================================================

# OpenAI API Key for AI-powered features
# Obtain from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# ============================================================================
# Optional: Action Log Configuration
# ============================================================================

# Maximum number of action log entries to keep
# Default: 1000
# ANYA_LOG_LIMIT=1000

# ============================================================================
# Frontend Configuration (Build-time only)
# ============================================================================
# Note: These are only used during the build process (npm run build)
# They are NOT needed on the production server after deployment

# API Proxy Target (for local development)
# VITE_API_PROXY_TARGET=http://localhost:4000

# Base Path (automatically set to /grantflow/ in production)
# VITE_BASE_PATH=/grantflow/

# ============================================================================
# Security Checklist
# ============================================================================
# Before deploying, ensure:
# - [ ] ANYA_ADMIN_TOKEN is a strong, random value (min 32 characters)
# - [ ] OPENAI_API_KEY is valid and has appropriate rate limits
# - [ ] CORS_ORIGIN includes only your production domains
# - [ ] This file has restricted permissions (chmod 600 .env)
# - [ ] This file is owned by the grantflow user (chown grantflow:grantflow .env)
# - [ ] This file is NOT committed to version control
# - [ ] You have a secure backup of this file
# - [ ] API keys are rotated regularly (every 90 days recommended)

# ============================================================================
# Setup Instructions
# ============================================================================
# 1. Copy this template to /opt/grantflow/.env on your production server:
#    cp .env.production.example .env
#
# 2. Generate a secure admin token:
#    openssl rand -hex 32
#
# 3. Replace all placeholder values with your actual credentials
#
# 4. Set proper file permissions:
#    chmod 600 .env
#    chown grantflow:grantflow .env
#
# 5. Verify the configuration:
#    cat .env  # Review all values
#
# 6. Restart the backend service:
#    sudo systemctl restart grantflow-backend
#
# 7. Test the configuration:
#    curl http://localhost:4000/api/health
